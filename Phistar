const fs = require('fs');
const path = require('path');

// Define the specific expected text to check in the file
const requiredTexts = [
    "global.botname = 'BigDaddy V1'", // Bot name
    "global.link = 'https://whatsapp.com/channel/0029VagdMGd6LwHms3wqEm0m'" // WhatsApp channel link
];

// Path to the file to check
const filePath = path.join(__dirname, 'Phistarbots.js');

// Function to check the integrity of the Phistarbots.js file
async function checkAntiClone() {
    try {
        // Check if the file exists
        if (!fs.existsSync(filePath)) {
            throw new Error('Phistarbots.js file not found!');
        }

        // Read the content of the file
        const fileContent = fs.readFileSync(filePath, 'utf-8').replace(/\s+/g, '');

        // Check if all the required strings exist in the file content
        let validationPassed = true;
        requiredTexts.forEach(text => {
            const sanitizedText = text.replace(/\s+/g, ''); // Remove extra spaces
            if (!fileContent.includes(sanitizedText)) {
                console.error(`Missing required text: ${text}`);
                validationPassed = false;
            }
        });

        // If all required text is present, allow the bot to work
        if (validationPassed) {
            console.log('Integrity check passed: Phistarbots.js is secure.');
            console.log('Bot is now working!');
        } else {
            // If any required text is missing, show an error and spam the console
            throw new Error('Anti-clone validation failed!');
        }
    } catch (error) {
        console.error(error.message);
        setInterval(() => {
            console.error('Corner Idiot, do you think you can clone me? Anti-clone detected');
        }, 1000); // Spam every second
    }
}

checkAntiClone();
